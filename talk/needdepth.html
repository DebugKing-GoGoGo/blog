<!DOCTYPE HTML>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <meta name="generator" content="nico 0.5.1">
    <meta name="theme" content="one 0.2">
    <title>工作变动</title>
    <link rel="stylesheet" href="../static/one.css" />
  </head>
  <body>
    <div class="header">
      <div class="container">
        <div class="brand">
          <a class="home" href="../">pezy's blog</a>
          <p><span class="tagline">> 驽马十驾, 功在不舍</span></p>
          <br/>
        </div>
        <div class="menu" role="navigation">
          <a href="https://github.com/pezy/blog/wiki">WIKI</a>
          <a href="../../../../tech">tech</a>
          <a href="../../../../talk">talk</a>
          <a href="../../../../poem">peom</a>
          <br/><br/>
        </div>
      </div>
    </div>
    <div class="document yue">
<div class="hentry" itemscope itemtype="http://schema.org/Article">
  <h1 class="entry-title" itemprop="name">工作变动</h1>
  <!--
  <div class="entry-description" itemprop="description"><p>广度有了，深度呢？</p></div>-->
  <div class="entry-content" itemprop="articleBody"><p>记得学生时代的我，为了展示自己博览全书，在一次随笔作文里，从经史子集到西方名著，随意点评，臧否人物，不亦乐乎。老师在评语里赞扬了我一番后，留下这么一句：“你的广度有了，能否再在深度上下点功夫呢？”</p>
<p>或许是对那篇文章十分得意，以至于我对于这么一句听起来不怎么舒服的评语印象颇深。不过我不得不承认这句话戳到了我的痛处。当时，四书五经，不过是浮光掠影；莎士比亚，仅限于知道书名。看了几篇评论和介绍，就敢妄加评断，现在想想真是羞愧不已。这浮夸的种子，从那时便已经开始慢慢发芽了。</p>
<p>什么都了解，却什么都不深入。这个毛病是非常要命的，它不仅会让你花费大量时间在各个领域浅尝则止，还会让你时刻有一种自满的心态。明明是不到半瓶子的水，似乎掺点其他瓶子的盐，就会满似的。</p>
<p>发现自己已经病入膏肓，还得从近期的工作说起。</p>
<p>才工作不到三年的我，在采集团队，已经开始接触面试新员工、培训新成员的任务了。而本职工作上，无论从业务的角度、还是编程的角度上看，上升的空间也十分的狭小了(时常有种没有人比我更懂得采集的感觉)。刚开始，这种感觉会让我膨胀一会，逐渐也把自己当成专家看待了。但气球上了天，终究会爆掉。在采集模块逐渐成熟的情况下，我被分配去做一个实时数据展示的模块，它要求随着实时数据的产生，在甬道中同时绘制出曲线。开始我没觉得有多困难，毕竟有诺大的互联网不是。于是我开始调研各种技术，从微软的GDI\GDI+，DirectX，到工业标准OpenGL，再到Qt中比较有名的控件QWT。GDI\GDI+和QPaint类似，都是从点、线、面等基本元素开始组建的，而再尝试入门OpenGL的时候，我真是尝到了苦头。开始感觉有点不知所云，连环境都配置的一塌糊涂，各种警告不说，连显卡驱动我都更新了好几回。更别提有关数学的内容，时刻提醒着我考研考的一塌糊涂的数学。热心的领导给我介绍了这方面的牛人，而这位现在成为我领导的大牛给我讲解了他们在业余时间开发的一套程序。里面精妙之处不胜枚举，代码干净简洁，十分符合我的美学要求。而在2D方面，他们也仅仅用到了Qt最基本的Graphics View Framework。没有用控件，没有用其他的图形库。这的确让我开了眼界，大牛耐心的讲解也让我尝到了Qt精妙的甜头。</p>
<p>可能是井场上的程序写多了，我十分在意程序所依赖的环境，Qt和.net一样，在这上面让我天然的厌恶。.net不提，必须安装.net Framework环境。而Qt那不胜枚举的dll的也好不到哪去。另外，由于井场多以xp为主，甚至还会有2000，Qt的跨平台特性没有体现，而且还会在效率上吃亏。比起Windows API，真是不知道差了多远。</p>
<p>但那是多么狭窄的一个业务场景呢？复杂的机型，老旧的系统。除非你希望开发维护一辈子MFC，或是各种深入研究无聊透顶、名字冗长的Windows API，否则真的找不到理由将宝贵的时间浪费在这样的地方。</p>
<p>还好我在一年前就察觉了MFC的弊端，逐渐将精力放到了STL以及标准C++上去了。否则现在的处境只能更惨。Qt出现在我的视野内，也是在去年，坐在我后面的同事由于没什么活可做，百无聊赖的学起了Qt。我这才开始明白原来不用Windows这一套东西，也可以作出漂亮的界面。当时起了性子，疯狂的学了一阵子，也是浅尝辄止，毕竟想学的东西太多了。到了去年年底，领导决定<strong>再一次</strong>的重构采集系统，说到用什么来开发界面合适，我信口就推荐了Qt。而领导恰好也在别的项目上看到了Qt的成功运用。这才正式将Qt引入实际的项目开发。前期我也是兴趣盎然，又是抱着书看，又是各种分析文档。在网上看到有人模仿<a href="http://blog.sina.com.cn/s/blog_a6fb6cc90101e8lf.html">360界面</a>，简直惟妙惟肖，更是激起了我的无限乐趣。于是自作主张将这种类360风格的界面引入了最新的采集系统。我再次发挥了<strong>什么都会一点</strong>的&quot;超能力&quot;，从图标到美工，再到细腻的界面跳转事件，以及表皮架构的设计。奠定了总体风格(貌似到现在还没有大的改变)。可惜刚刚竣工，领导就将&quot;更重要的&quot;后台采集框架交给了我负责。撇开&quot;什么都会一点&quot;的超能力，我最擅长的还真就只剩底层后台框架的设计了。于是，后续的经历再次与Qt失之交臂了。</p>
<p>缘分总是这么神奇。回到之前提到的大牛，我看了他的代码后，夜不能寐，寝食难安，原来在这样一个公司也会有这样好的代码存在！又是热心的领导遂了我的愿。在这周，我正式拜了图灵，入伙该大牛的团队里。但直到这时，Qt对于我来说，还属于&quot;什么都会一点&quot;中的技能点而已。</p>
<p>正经的来说，Qt对于一个人理解C++的本质，是大有裨益的。譬如我刚开始写C++程序时，连如何写一个完整的类，都是很犯愁的。而且由于中国特色，本土C++工程师往往都是披着C++外皮的C程序员。将面向对象思想贯彻的最好的，也还是Qt。所以如果你写惯了Java或是C#，再来写Qt，会很舒服。而Java Swing和Qt在界面设计方面，几乎也分不清是谁抄的谁了。也许是入门太容易，我对待Qt，至始至终都没有抱着深入学习的态度。毕竟在我心里，纯粹的C++或是纯粹的C程序才是王道。</p>
<p>于是在面对入伙后第一个&quot;投名状&quot;任务时，&quot;什么都会一点&quot;的弊端展现无疑了。能想象出来么，连在Qt Creator里对一个界面布局我都折腾了一上午。我这才发现，我对于Qt里的布局管理器竟然是一无所知的。控件的摆放，我还停留在MFC时代(也就是手动对齐)。而我看到同事绘制的界面各种拖拽、缩放自如的时候，我才意识到布局管理器的重要性。是的，从这时起，我已经开始怀疑自己无往不利的&quot;什么都会一点&quot;之超能力了。</p>
<p>后续需要用到的Graphics View Framework，更是让我头疼，旋转缩放函数到底是怎么使用的，为什么用起来不是我想象的那样。对着API文档看来看去，看不出所以然。看例子程序吧，额，难道没有简单点的么。算了，还是直接参考同事的代码好了，咦，他这样写的用意是什么呢。总不好意思事无巨细的去问别人吧。</p>
<p>这时候，我基本已经浮躁的无以复加了。</p>
<p>语文老师的评语，应该是从天上飘来的。“广度有了，是否在深度上下点功夫呢？”</p>
<p>我突然神经一紧，明白了老师的良苦用心。老师过于委婉的说出了对我的希望，孩子，虚心点，海里的水很深，别沉溺在小池塘里坐井观天了。</p>
<p>我删掉了那些东拼西凑准备交差的代码。重新捡起了《C++ GUI Qt4编程》，准备真正下点功夫，每一行代码的敲起。有些事，真的没有捷径。</p>
<p><em>-EOF-</em></p>
</div>

  <div class="entry-meta">
    <time class="updated" datetime="2014-05-09T00:00:00.000Z" itemprop="dateModified">Friday, May 9th, 2014</time>
  </div><div class="ds-thread"></div>
<script type="text/javascript">
  var duoshuoQuery = {short_name:"pezy"};
  (function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = 'http://static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0]
     || document.getElementsByTagName('body')[0]).appendChild(ds);
  })();
</script>
</div>
</div>
    <div class="footer">
    </div>
    <div class="github"><a class="github-link" href="https://github.com/pezy">Fork me on GitHub</a></div>
    <script src="../static/one.js"></script>
  </body>
</html>